import { createTamagui, createTokens, TamaguiInternalConfig } from 'tamagui';
import { shorthands } from '@tamagui/shorthands/v2';
import { animations } from '@tamagui/config/v3';
import { media, mediaQueryDefaultActive } from '@tamagui/config/v3';
import { fonts } from '@tamagui/config/v3';

// 테마 직접 정의 (tree-shaking 방지)
const lightColors = {
  background: '#fff',
  backgroundHover: '#f5f5f5',
  backgroundPress: '#e5e5e5',
  backgroundFocus: '#f0f0f0',
  backgroundStrong: '#f2f2f2',
  backgroundTransparent: 'rgba(255,255,255,0)',
  color: '#000',
  colorHover: '#111',
  colorPress: '#222',
  colorFocus: '#111',
  colorTransparent: 'rgba(0,0,0,0)',
  borderColor: '#e0e0e0',
  borderColorHover: '#d0d0d0',
  borderColorPress: '#c0c0c0',
  borderColorFocus: '#d0d0d0',
  placeholderColor: '#999',
  shadowColor: 'rgba(0,0,0,0.1)',
  shadowColorHover: 'rgba(0,0,0,0.15)',
  shadowColorPress: 'rgba(0,0,0,0.2)',
  shadowColorFocus: 'rgba(0,0,0,0.15)',
};

const darkColors = {
  background: '#1a1a1a',
  backgroundHover: '#252525',
  backgroundPress: '#303030',
  backgroundFocus: '#252525',
  backgroundStrong: '#0d0d0d',
  backgroundTransparent: 'rgba(0,0,0,0)',
  color: '#fff',
  colorHover: '#eee',
  colorPress: '#ddd',
  colorFocus: '#eee',
  colorTransparent: 'rgba(255,255,255,0)',
  borderColor: '#333',
  borderColorHover: '#444',
  borderColorPress: '#555',
  borderColorFocus: '#444',
  placeholderColor: '#666',
  shadowColor: 'rgba(0,0,0,0.5)',
  shadowColorHover: 'rgba(0,0,0,0.6)',
  shadowColorPress: 'rgba(0,0,0,0.7)',
  shadowColorFocus: 'rgba(0,0,0,0.6)',
};

const themes = {
  light: lightColors,
  dark: darkColors,
};

// Tamagui 표준 토큰 세트
const size = {
  0: 0,
  0.25: 2,
  0.5: 4,
  0.75: 8,
  1: 20,
  1.5: 24,
  2: 28,
  2.5: 32,
  3: 36,
  3.5: 40,
  4: 44,
  true: 44,
  4.5: 48,
  5: 52,
  6: 64,
  7: 74,
  8: 84,
  9: 94,
  10: 104,
  11: 124,
  12: 144,
  13: 164,
  14: 184,
  15: 204,
  16: 224,
  17: 224,
  18: 244,
  19: 264,
  20: 284,
};

const space = {
  0: 0,
  0.25: 0.5,
  0.5: 1,
  0.75: 1.5,
  1: 2,
  1.5: 4,
  2: 7,
  2.5: 10,
  3: 13,
  3.5: 16,
  4: 18,
  true: 18,
  4.5: 21,
  5: 24,
  6: 32,
  7: 39,
  8: 46,
  9: 53,
  10: 60,
  11: 74,
  12: 88,
  13: 102,
  14: 116,
  15: 130,
  16: 144,
  17: 144,
  18: 158,
  19: 172,
  20: 186,
  '-0.25': -0.5,
  '-0.5': -1,
  '-0.75': -1.5,
  '-1': -2,
  '-1.5': -4,
  '-2': -7,
  '-2.5': -10,
  '-3': -13,
  '-3.5': -16,
  '-4': -18,
  '-true': -18,
  '-4.5': -21,
  '-5': -24,
  '-6': -32,
  '-7': -39,
  '-8': -46,
  '-9': -53,
  '-10': -60,
  '-11': -74,
  '-12': -88,
  '-13': -102,
  '-14': -116,
  '-15': -130,
  '-16': -144,
  '-17': -144,
  '-18': -158,
  '-19': -172,
  '-20': -186,
};

const tokens = createTokens({
  size,
  space,
  radius: {
    0: 0,
    1: 3,
    2: 5,
    3: 7,
    4: 9,
    true: 9,
    5: 10,
    6: 16,
    7: 19,
    8: 22,
    9: 26,
    10: 34,
    11: 42,
    12: 50,
  },
  zIndex: {
    0: 0,
    1: 100,
    2: 200,
    3: 300,
    4: 400,
    5: 500,
  },
  color: {
    white: '#fff',
    black: '#000',
  },
});

const config: TamaguiInternalConfig = createTamagui({
  animations,
  themes,
  media,
  shorthands,
  tokens,
  fonts,
  settings: {
    mediaQueryDefaultActive,
    defaultFont: 'body',
    fastSchemeChange: true,
    shouldAddPrefersColorThemes: true,
    themeClassNameOnRoot: true,
  },
});

export default config;
